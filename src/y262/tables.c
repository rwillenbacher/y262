/*
Copyright (c) 2013, Ralf Willenbacher
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:

1. Redistributions of source code must retain the above copyright
   notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright
   notice, this list of conditions and the following disclaimer in
   the documentation and/or other materials provided with the
   distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.
*/

#include "y262.h"

int32_t rgi_y262_framerate_code_duration[ 16 ] = { 
	3600, 1001, 1000, 3600, 1001, 3000, 1800, 1001, 1500, 3600, 3600, 3600, 3600, 3600, 3600, 3600
};

int32_t rgi_y262_framerate_code_timescale[ 16 ] = {
	90000, 24000, 24000, 90000, 30000, 90000, 90000, 60000, 90000, 90000, 90000, 90000, 90000, 90000, 90000, 90000
};

uint8_t rgui8_y262_default_intra_matrix[ 64 ] = {
	 8, 16, 19, 22, 26, 27, 29, 34,
	16, 16, 22, 24, 27, 29, 34, 37,
	19, 22, 26, 27, 29, 34, 34, 38,
	22, 22, 26, 27, 29, 34, 37, 40,
	22, 26, 27, 29, 32, 35, 40, 48,
	26, 27, 29, 32, 35, 40, 48, 58,
	26, 27, 29, 34, 38, 46, 56, 69,
	27, 29, 35, 38, 46, 56, 69, 83
};

uint8_t rgui8_y262_default_non_intra_matrix[ 64 ] = {
	16, 16, 16, 16, 16, 16, 16, 16,
	16, 16, 16, 16, 16, 16, 16, 16,
	16, 16, 16, 16, 16, 16, 16, 16,
	16, 16, 16, 16, 16, 16, 16, 16,
	16, 16, 16, 16, 16, 16, 16, 16,
	16, 16, 16, 16, 16, 16, 16, 16,
	16, 16, 16, 16, 16, 16, 16, 16,
	16, 16, 16, 16, 16, 16, 16, 16
};

uint8_t rgui8_y262_scan_0_table[] = {
    0,  1,  8, 16, 9, 2, 3, 10,
	17, 24, 32, 25, 18, 11, 4, 5,
	12, 19, 26, 33, 40, 48, 41, 34,
	27, 20, 13,  6,  7, 14, 21, 28,
    35, 42, 49, 56, 57, 50, 43, 36,
	29, 22, 15, 23, 30, 37, 44, 51,
    58, 59, 52, 45, 38, 31, 39, 46,
	53, 60, 61, 54, 47, 55, 62, 63
};

uint8_t rgui8_y262_scan_1_table[] = {
    0, 8, 16, 24, 1, 9, 2, 10,
	17, 25, 32, 40, 48, 56, 57, 49,
    41, 33, 26, 18, 3, 11, 4, 12,
	19, 27, 34, 42, 50, 58, 35, 43,
    51, 59, 20, 28, 5, 13, 6, 14,
	21, 29, 36, 44, 52, 60, 37, 45,
    53, 61, 22, 30, 7, 15, 23, 31,
	38, 46, 54, 62, 39, 47, 55, 63
};

int32_t rgi_y262_block_type_dims[][ 2 ] = {
	{ 16, 16 },
	{ 16, 8 }
};

int32_t rgui_y262_luma_blk_offsets[ 4 ][ 2 ] = {
	{ 0, 0 },
	{ 8, 0 },
	{ 0, 8 },
	{ 8, 8 },
};

int32_t rgui_y262_luma_il_blk_offsets[ 4 ][ 2 ] = {
	{ 0, 0 },
	{ 8, 0 },
	{ 0, 1 },
	{ 8, 1 },
};

int32_t rgui_num_chroma_blk[ 4 ] = {
	1,
	1,
	2,
	4
};

int32_t rgui_y262_chroma_blk_offsets[ 4 ][ 4 ][ 2 ] = {
	{
		{ 0, 0 },
		{ 0, 0 },
		{ 0, 0 },
		{ 0, 0 },
	},
	{
		{ 0, 0 },
		{ 0, 0 },
		{ 0, 0 },
		{ 0, 0 },
	},
	{
		{ 0, 0 },
		{ 0, 8 },
		{ 0, 0 },
		{ 0, 0 },
	},
	{
		{ 0, 0 },
		{ 8, 0 },
		{ 0, 8 },
		{ 8, 8 },
	},
};

int32_t rgui_y262_chroma_il_blk_offsets[ 4 ][ 4 ][ 2 ] = {
	{
		{ 0, 0 },
		{ 0, 0 },
		{ 0, 0 },
		{ 0, 0 },
	},
	{
		{ 0, 0 },
		{ 0, 0 },
		{ 0, 0 },
		{ 0, 0 },
	},
	{
		{ 0, 0 },
		{ 0, 1 },
		{ 0, 0 },
		{ 0, 0 },
	},
	{
		{ 0, 0 },
		{ 8, 0 },
		{ 0, 1 },
		{ 8, 1 },
	},
};


y262_vlc_t rgs_y262_macroblock_address_increment_table[] = {
	{ 1, 1 },
	{ 3, 3 },
	{ 2, 3 },
	{ 3, 4 },
	{ 2, 4 },
	{ 3, 5 },
	{ 2, 5 },
	{ 7, 7 },
	{ 6, 7 },
	{ 11, 8 },
	{ 10, 8 },
	{ 9, 8 },
	{ 8, 8 },
	{ 7, 8 },
	{ 6, 8 },
	{ 23, 10 },
	{ 22, 10 },
	{ 21, 10 },
	{ 20, 10 },
	{ 19, 10 },
	{ 18, 10 },
	{ 35, 11 },
	{ 34, 11 },
	{ 33, 11 },
	{ 32, 11 },
	{ 31, 11 },
	{ 30, 11 },
	{ 29, 11 },
	{ 28, 11 },
	{ 27, 11 },
	{ 26, 11 },
	{ 25, 11 },
	{ 24, 11 },
	{ 8, 11 },
	{ VLC_SENTINEL, VLC_SENTINEL }
};

y262_vlc_t rgs_y262_macroblock_type_i_picture_table[] = {
	{ 1, 1 },
	{ 1, 2 },
	{ VLC_SENTINEL, VLC_SENTINEL }
};


int32_t rgui_y262_macroblock_type_i_picture_flags_table[] = {
	MACROBLOCK_INTRA,
	MACROBLOCK_INTRA | MACROBLOCK_QUANT
};



y262_vlc_t rgs_y262_macroblock_type_p_picture_table[] = {
	{ 1, 1 },
	{ 1, 2 },
	{ 1, 3 },
	{ 3, 5 },
	{ 2, 5 },
	{ 1, 5 },
	{ 1, 6 },
	{ VLC_SENTINEL, VLC_SENTINEL }
};


int32_t rgui_y262_macroblock_type_p_picture_flags_table[] = {
	MACROBLOCK_MOTION_FORWARD | MACROBLOCK_PATTERN,
	MACROBLOCK_PATTERN,
	MACROBLOCK_MOTION_FORWARD,
	MACROBLOCK_INTRA,
	MACROBLOCK_QUANT | MACROBLOCK_MOTION_FORWARD | MACROBLOCK_PATTERN,
	MACROBLOCK_QUANT | MACROBLOCK_PATTERN,
	MACROBLOCK_QUANT | MACROBLOCK_INTRA
};


y262_vlc_t rgs_y262_macroblock_type_b_picture_table[] = {
	{ 2, 2 },
	{ 3, 2 },
	{ 2, 3 },
	{ 3, 3 },
	{ 2, 4 },
	{ 3, 4 },
	{ 3, 5 },
	{ 2, 5 },
	{ 3, 6 },
	{ 2, 6 },
	{ 1, 6 },
	{ VLC_SENTINEL, VLC_SENTINEL }
};


int32_t rgui_y262_macroblock_type_b_picture_flags_table[] = {
	MACROBLOCK_MOTION_FORWARD | MACROBLOCK_MOTION_BACKWARD,
	MACROBLOCK_MOTION_FORWARD | MACROBLOCK_MOTION_BACKWARD | MACROBLOCK_PATTERN,
	MACROBLOCK_MOTION_BACKWARD,
	MACROBLOCK_MOTION_BACKWARD | MACROBLOCK_PATTERN,
	MACROBLOCK_MOTION_FORWARD,
	MACROBLOCK_MOTION_FORWARD | MACROBLOCK_PATTERN,
	MACROBLOCK_INTRA,
	MACROBLOCK_QUANT | MACROBLOCK_MOTION_FORWARD | MACROBLOCK_MOTION_BACKWARD | MACROBLOCK_PATTERN,
	MACROBLOCK_QUANT | MACROBLOCK_MOTION_FORWARD | MACROBLOCK_PATTERN,
	MACROBLOCK_QUANT | MACROBLOCK_MOTION_BACKWARD | MACROBLOCK_PATTERN,
	MACROBLOCK_QUANT | MACROBLOCK_INTRA
};


y262_vlc_t rgs_y262_dct_dc_size_luminance_table[] = {
	{ 0, 2 }, /* 1 */
	{ 1, 2 }, /* 2 */
	{ 4, 3 }, /* 0 */
	{ 5, 3 }, /* 3 */
	{ 6, 3 }, /* 4 */
	{ 14, 4 }, /* 5 */
	{ 30, 5 }, /* 6 */
	{ 62, 6 }, /* 7 */
	{ 126, 7 }, /* 8 */
	{ 254, 8 }, /* 9 */
	{ 510, 9 }, /* 10 */
	{ 511, 9 }, /* 11 */
	{ VLC_SENTINEL, VLC_SENTINEL }
};

int32_t rgi_y262_dct_dc_size_luminance_lookup_table[] = {
	1,
	2,
	0,
	3,
	4,
	5,
	6,
	7,
	8,
	9,
	10,
	11
};

y262_vlc_t rgs_y262_dct_dc_size_chrominance_table[] = {
	{ 0, 2 }, /* 0 */
	{ 1, 2 }, /* 1 */
	{ 2, 2 }, /* 2 */
	{ 6, 3 }, /* 3 */
	{ 14, 4 }, /* 4 */
	{ 30, 5 }, /* 5 */
	{ 62, 6 }, /* 6 */
	{ 126, 7 }, /* 7 */
	{ 254, 8 }, /* 8 */
	{ 510, 9 }, /* 9 */
	{ 1022, 10 }, /* 10 */
	{ 1023, 10 }, /* 11 */
	{ VLC_SENTINEL, VLC_SENTINEL }
};


int32_t rgi_y262_dct_dc_size_chrominance_lookup_table[] = {
	0,
	1,
	2,
	3,
	4,
	5,
	6,
	7,
	8,
	9,
	10,
	11
};


y262_vlc_t rgs_y262_dct_coefficients_table_zero[] = {
	{ 2, 2 }, /* (Note 2) End of Block */
	{ 3, 2 }, /* s (Note 4) 0 1 */
	{ 3, 3 }, /* s 1 1 */
	{ 4, 4 }, /* s 0 2 */
	{ 5, 4 }, /* s 2 1 */
	{ 5, 5 }, /* s 0 3 */
	{ 7, 5 }, /* s 3 1 */
	{ 6, 5 }, /* s 4 1 */
	{ 6, 6 }, /* s 1 2 */
	{ 7, 6 }, /* s 5 1 */
	{ 5, 6 }, /* s 6 1 */
	{ 4, 6 }, /* s 7 1 */
	{ 1, 6 }, /* Escape */
	{ 6, 7 }, /* s 0 4 */
	{ 4, 7 }, /* s 2 2 */
	{ 7, 7 }, /* s 8 1 */
	{ 5, 7 }, /* s 9 1 */
	{ 38, 8 }, /* s 0 5 */
	{ 33, 8 }, /* s 0 6 */
	{ 37, 8 }, /* s 1 3 */
	{ 36, 8 }, /* s 3 2 */
	{ 39, 8 }, /* s 10 1 */
	{ 35, 8 }, /* s 11 1 */
	{ 34, 8 }, /* s 12 1 */
	{ 32, 8 }, /* s 13 1 */
	{ 10, 10 }, /* s 0 7 */
	{ 12, 10 }, /* s 1 4 */
	{ 11, 10 }, /* s 2 3 */
	{ 15, 10 }, /* s 4 2 */
	{  9, 10 }, /* s 5 2 */
	{ 14, 10 }, /* s 14 1 */
	{ 13, 10 }, /* s 15 1 */
	{  8, 10 }, /* s 16 1 */
	{ 29, 12 }, /* s 0 8 */
	{ 24, 12 }, /* s 0 9 */
	{ 19, 12 }, /* s 0 10 */
	{ 16, 12 }, /* s 0 11 */
	{ 27, 12 }, /* s 1 5 */
	{ 20, 12 }, /* s 2 4 */
	{ 28, 12 }, /* s 3 3 */
	{ 18, 12 }, /* s 4 3 */
	{ 30, 12 }, /* s 6 2 */
	{ 21, 12 }, /* s 7 2 */
	{ 17, 12 }, /* s 8 2 */
	{ 31, 12 }, /* s 17 1 */
	{ 26, 12 }, /* s 18 1 */
	{ 25, 12 }, /* s 19 1 */
	{ 23, 12 }, /* s 20 1 */
	{ 22, 12 }, /* s 21 1 */
	{ 26, 13 }, /* s 0 12 */
	{ 25, 13 }, /* s 0 13 */
	{ 24, 13 }, /* s 0 14 */
	{ 23, 13 }, /* s 0 15 */
	{ 22, 13 }, /* s 1 6 */
	{ 21, 13 }, /* s 1 7 */
	{ 20, 13 }, /* s 2 5 */
	{ 19, 13 }, /* s 3 4 */
	{ 18, 13 }, /* s 5 3 */
	{ 17, 13 }, /* s 9 2 */
	{ 16, 13 }, /* s 10 2 */
	{ 31, 13 }, /* s 22 1 */
	{ 30, 13 }, /* s 23 1 */
	{ 29, 13 }, /* s 24 1 */
	{ 28, 13 }, /* s 25 1 */
	{ 27, 13 }, /* s 26 1 */
	{ 31, 14 }, /* s 0 16 */
	{ 30, 14 }, /* s 0 17 */
	{ 29, 14 }, /* s 0 18 */
	{ 28, 14 }, /* s 0 19 */
	{ 27, 14 }, /* s 0 20 */
	{ 26, 14 }, /* s 0 21 */
	{ 25, 14 }, /* s 0 22 */
	{ 24, 14 }, /* s 0 23 */
	{ 23, 14 }, /* s 0 24 */
	{ 22, 14 }, /* s 0 25 */
	{ 21, 14 }, /* s 0 26 */
	{ 20, 14 }, /* s 0 27 */
	{ 19, 14 }, /* s 0 28 */
	{ 18, 14 }, /* s 0 29 */
	{ 17, 14 }, /* s 0 30 */
	{ 16, 14 }, /* s 0 31 */
	{ 24, 15 }, /* s 0 32 */
	{ 23, 15 }, /* s 0 33 */
	{ 22, 15 }, /* s 0 34 */
	{ 21, 15 }, /* s 0 35 */
	{ 20, 15 }, /* s 0 36 */
	{ 19, 15 }, /* s 0 37 */
	{ 18, 15 }, /* s 0 38 */
	{ 17, 15 }, /* s 0 39 */
	{ 16, 15 }, /* s 0 40 */
	{ 31, 15 }, /* s 1 8 */
	{ 30, 15 }, /* s 1 9 */
	{ 29, 15 }, /* s 1 10 */
	{ 28, 15 }, /* s 1 11 */
	{ 27, 15 }, /* s 1 12 */
	{ 26, 15 }, /* s 1 13 */
	{ 25, 15 }, /* s 1 14 */
	{ 19, 16 }, /* s 1 15 */
	{ 18, 16 }, /* s 1 16 */
	{ 17, 16 }, /* s 1 17 */
	{ 16, 16 }, /* s 1 18 */
	{ 20, 16 }, /* s 6 3 */
	{ 26, 16 }, /* s 11 2 */
	{ 25, 16 }, /* s 12 2 */
	{ 24, 16 }, /* s 13 2 */
	{ 23, 16 }, /* s 14 2 */
	{ 22, 16 }, /* s 15 2 */
	{ 21, 16 }, /* s 16 2 */
	{ 31, 16 }, /* s 27 1 */
	{ 30, 16 }, /* s 28 1 */
	{ 29, 16 }, /* s 29 1 */
	{ 28, 16 }, /* s 30 1 */
	{ 27, 16 }, /* s 31 1 */
	{ VLC_SENTINEL, VLC_SENTINEL }
};

y262_run_level_t rgs_y262_dct_coefficients_lookup_table_zero[] = {
	{ RUN_LEVEL_END_OF_BLOCK, RUN_LEVEL_END_OF_BLOCK },
	{ 0, 1 }, /**/
	{ 1, 1 }, /**/
	{ 0, 2 }, /**/
	{ 2, 1 }, /**/
	{ 0, 3 }, /**/
	{ 3, 1 }, /**/
	{ 4, 1 }, /**/
	{ 1, 2 }, /**/
	{ 5, 1 }, /**/
	{ 6, 1 }, /**/
	{ 7, 1 }, /**/
	{ RUN_LEVEL_ESCAPE, RUN_LEVEL_ESCAPE },
	{ 0, 4 }, /**/
	{ 2, 2 }, /**/
	{ 8, 1 }, /**/
	{ 9, 1 }, /**/
	{ 0, 5 }, /**/
	{ 0, 6 }, /**/
	{ 1, 3 }, /**/
	{ 3, 2 }, /**/
	{ 10, 1 }, /**/
	{ 11, 1 }, /**/
	{ 12, 1 }, /**/
	{ 13, 1 }, /**/
	{ 0, 7 }, /**/
	{ 1, 4 }, /**/
	{ 2, 3 }, /**/
	{ 4, 2 }, /**/
	{ 5, 2 }, /**/
	{ 14, 1 }, /**/
	{ 15, 1 }, /**/
	{ 16, 1 }, /**/
	{ 0, 8 }, /**/
	{ 0, 9 }, /**/
	{ 0, 10 }, /**/
	{ 0, 11 }, /**/
	{ 1, 5 }, /**/
	{ 2, 4 }, /**/
	{ 3, 3 }, /**/
	{ 4, 3 }, /**/
	{ 6, 2 }, /**/
	{ 7, 2 }, /**/
	{ 8, 2 }, /**/
	{ 17, 1 }, /**/
	{ 18, 1 }, /**/
	{ 19, 1 }, /**/
	{ 20, 1 }, /**/
	{ 21, 1 }, /**/
	{ 0, 12 }, /**/
	{ 0, 13 }, /**/
	{ 0, 14 }, /**/
	{ 0, 15 }, /**/
	{ 1, 6 }, /**/
	{ 1, 7 }, /**/
	{ 2, 5 }, /**/
	{ 3, 4 }, /**/
	{ 5, 3 }, /**/
	{ 9, 2 }, /**/
	{ 10, 2 }, /**/
	{ 22, 1 }, /**/
	{ 23, 1 }, /**/
	{ 24, 1 }, /**/
	{ 25, 1 }, /**/
	{ 26, 1 }, /**/
	{ 0, 16 }, /**/
	{ 0, 17 }, /**/
	{ 0, 18 }, /**/
	{ 0, 19 }, /**/
	{ 0, 20 }, /**/
	{ 0, 21 }, /**/
	{ 0, 22 }, /**/
	{ 0, 23 }, /**/
	{ 0, 24 }, /**/
	{ 0, 25 }, /**/
	{ 0, 26 }, /**/
	{ 0, 27 }, /**/
	{ 0, 28 }, /**/
	{ 0, 29 }, /**/
	{ 0, 30 }, /**/
	{ 0, 31 }, /**/
	{ 0, 32 }, /**/
	{ 0, 33 }, /**/
	{ 0, 34 }, /**/
	{ 0, 35 }, /**/
	{ 0, 36 }, /**/
	{ 0, 37 }, /**/
	{ 0, 38 }, /**/
	{ 0, 39 }, /**/
	{ 0, 40 }, /**/
	{ 1, 8 }, /**/
	{ 1, 9 }, /**/
	{ 1, 10 }, /**/
	{ 1, 11 }, /**/
	{ 1, 12 }, /**/
	{ 1, 13 }, /**/
	{ 1, 14 }, /**/
	{ 1, 15 }, /**/
	{ 1, 16 }, /**/
	{ 1, 17 }, /**/
	{ 1, 18 }, /**/
	{ 6, 3 }, /**/
	{ 11, 2 }, /**/
	{ 12, 2 }, /**/
	{ 13, 2 }, /**/
	{ 14, 2 }, /**/
	{ 15, 2 }, /**/
	{ 16, 2 }, /**/
	{ 27, 1 }, /**/
	{ 28, 1 }, /**/
	{ 29, 1 }, /**/
	{ 30, 1 }, /**/
	{ 31, 1 } /**/
};

int8_t rgi_y262_run_level_bits_zero[ 32 ][ 41 ] = {
	{ 24, 3, 5, 6, 8, 9, 9, 11, 13, 13, 13, 13, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 16, 16, 16, 16, 16, 16, 16, 16, 16 },
	{ 24, 4, 7, 9, 11, 13, 14, 14, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 5, 8, 11, 13, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 6, 9, 13, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 6, 11, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 7, 11, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 7, 13, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 7, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 8, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 8, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 9, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 9, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 9, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 9, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 11, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 11, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 11, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 14, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 },
	{ 24, 17, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 }
};


y262_vlc_t rgs_y262_dct_coefficients_table_one[] = {
	{ 2, 2 }, /* s 0 1 */
	{ 2, 3 }, /* s 1 1 */
	{ 6, 3 }, /* s 0 2 */
	{ 7, 4 }, /* s 0 3 */
	{ 6, 4 }, /* End of Block */
	{ 5, 5 }, /* s 2 1 */
	{ 7, 5 }, /* s 3 1 */
	{ 6, 5 }, /* s 1 2 */
	{ 28, 5 }, /* s 0 4 */
	{ 29, 5 }, /* s 0 5 */
	{ 4, 6 }, /* s 0 7 */
	{ 5, 6 }, /* s 0 6 */
	{ 1, 6 }, /* Escape */
	{ 7, 6 }, /* s 5 1 */
	{ 6, 6 }, /* s 4 1 */
	{ 6, 7 }, /* s 6 1 */
	{ 4, 7 }, /* s 7 1 */
	{ 121, 7 }, /* s 1 3 */
	{ 122, 7 }, /* s 10 1 */
	{ 123, 7 }, /* s 0 8 */
	{ 124, 7 }, /* s 0 9 */
	{ 7, 7 }, /* s 2 2 */
	{ 5, 7 }, /* s 8 1 */
	{ 120, 7 }, /* s 9 1 */
	{ 38, 8 }, /* s 3 2 */
	{ 33, 8 }, /* s 11 1 */
	{ 37, 8 }, /* s 12 1 */
	{ 36, 8 }, /* s 13 1 */
	{ 39, 8 }, /* s 1 4 */
	{ 252, 8 }, /* s 2 3 */
	{ 253, 8 }, /* s 4 2 */
	{ 35, 8 }, /* s 0 10 */
	{ 34, 8 }, /* s 0 11 */
	{ 32, 8 }, /* s 1 5 */
	{ 250, 8 }, /* s 0 12 */
	{ 251, 8 }, /* s 0 13 */
	{ 254, 8 }, /* s 0 14 */
	{ 255, 8 }, /* s 0 15 */
	{ 4, 9 }, /* s 5 2 */
	{ 5, 9 }, /* s 14 1 */
	{ 7, 9 }, /* s 15 1 */
	{ 13, 10 }, /* s 16 1 */
	{ 12, 10 }, /* s 2 4 */
	{ 28, 12 }, /* s 3 3 */
	{ 18, 12 }, /* s 4 3 */
	{ 30, 12 }, /* s 6 2 */
	{ 21, 12 }, /* s 7 2 */
	{ 17, 12 }, /* s 8 2 */
	{ 31, 12 }, /* s 17 1 */
	{ 26, 12 }, /* s 18 1 */
	{ 25, 12 }, /* s 19 1 */
	{ 23, 12 }, /* s 20 1 */
	{ 22, 12 }, /* s 21 1 */
	{ 22, 13 }, /* s 1 6 */
	{ 21, 13 }, /* s 1 7 */
	{ 20, 13 }, /* s 2 5 */
	{ 19, 13 }, /* s 3 4 */
	{ 18, 13 }, /* s 5 3 */
	{ 17, 13 }, /* s 9 2 */
	{ 16, 13 }, /* s 10 2 */
	{ 31, 13 }, /* s 22 1 */
	{ 30, 13 }, /* s 23 1 */
	{ 29, 13 }, /* s 24 1 */
	{ 28, 13 }, /* s 25 1 */
	{ 27, 13 }, /* s 26 1 */
	{ 31, 14 }, /* s 0 16 */
	{ 30, 14 }, /* s 0 17 */
	{ 29, 14 }, /* s 0 18 */
	{ 28, 14 }, /* s 0 19 */
	{ 27, 14 }, /* s 0 20 */
	{ 26, 14 }, /* s 0 21 */
	{ 25, 14 }, /* s 0 22 */
	{ 24, 14 }, /* s 0 23 */
	{ 23, 14 }, /* s 0 24 */
	{ 22, 14 }, /* s 0 25 */
	{ 21, 14 }, /* s 0 26 */
	{ 20, 14 }, /* s 0 27 */
	{ 19, 14 }, /* s 0 28 */
	{ 18, 14 }, /* s 0 29 */
	{ 17, 14 }, /* s 0 30 */
	{ 16, 14 }, /* s 0 31 */
	{ 24, 15 }, /* s 0 32 */
	{ 23, 15 }, /* s 0 33 */
	{ 22, 15 }, /* s 0 34 */
	{ 21, 15 }, /* s 0 35 */
	{ 20, 15 }, /* s 0 36 */
	{ 19, 15 }, /* s 0 37 */
	{ 18, 15 }, /* s 0 38 */
	{ 17, 15 }, /* s 0 39 */
	{ 16, 15 }, /* s 0 40 */
	{ 31, 15 }, /* s 1 8 */
	{ 30, 15 }, /* s 1 9 */
	{ 29, 15 }, /* s 1 10 */
	{ 28, 15 }, /* s 1 11 */
	{ 27, 15 }, /* s 1 12 */
	{ 26, 15 }, /* s 1 13 */
	{ 25, 15 }, /* s 1 14 */
	{ 19, 16 }, /* s 1 15 */
	{ 18, 16 }, /* s 1 16 */
	{ 17, 16 }, /* s 1 17 */
	{ 16, 16 }, /* s 1 18 */
	{ 20, 16 }, /* s 6 3 */
	{ 26, 16 }, /* s 11 2 */
	{ 25, 16 }, /* s 12 2 */
	{ 24, 16 }, /* s 13 2 */
	{ 23, 16 }, /* s 14 2 */
	{ 22, 16 }, /* s 15 2 */
	{ 21, 16 }, /* s 16 2 */
	{ 31, 16 }, /* s 27 1 */
	{ 30, 16 }, /* s 28 1 */
	{ 29, 16 }, /* s 29 1 */
	{ 28, 16 }, /* s 30 1 */
	{ 27, 16 }, /* s 31 1 */
	{ VLC_SENTINEL, VLC_SENTINEL }
};

y262_run_level_t rgs_y262_dct_coefficients_lookup_table_one[] = {
	{ 0, 1 }, /**/
	{ 1, 1 }, /**/
	{ 0, 2 }, /**/
	{ 0, 3 }, /**/
	{ RUN_LEVEL_END_OF_BLOCK, RUN_LEVEL_END_OF_BLOCK }, /* End of Block */
	{ 2, 1 }, /**/
	{ 3, 1 }, /**/
	{ 1, 2 }, /**/
	{ 0, 4 }, /**/
	{ 0, 5 }, /**/
	{ 0, 7 }, /**/
	{ 0, 6 }, /**/
	{ RUN_LEVEL_ESCAPE, RUN_LEVEL_ESCAPE }, /* Escape */
	{ 5, 1 }, /**/
	{ 4, 1 }, /**/
	{ 6, 1 }, /**/
	{ 7, 1 }, /**/
	{ 1, 3 }, /**/
	{ 10, 1 }, /**/
	{ 0, 8 }, /**/
	{ 0, 9 }, /**/
	{ 2, 2 }, /**/
	{ 8, 1 }, /**/
	{ 9, 1 }, /**/
	{ 3, 2 }, /**/
	{ 11, 1 }, /**/
	{ 12, 1 }, /**/
	{ 13, 1 }, /**/
	{ 1, 4 }, /**/
	{ 2, 3 }, /**/
	{ 4, 2 }, /**/
	{ 0, 10 }, /**/
	{ 0, 11 }, /**/
	{ 1, 5 }, /**/
	{ 0, 12 }, /**/
	{ 0, 13 }, /**/
	{ 0, 14 }, /**/
	{ 0, 15 }, /**/
	{ 5, 2 }, /**/
	{ 14, 1 }, /**/
	{ 15, 1 }, /**/
	{ 16, 1 }, /**/
	{ 2, 4 }, /**/
	{ 3, 3 }, /**/
	{ 4, 3 }, /**/
	{ 6, 2 }, /**/
	{ 7, 2 }, /**/
	{ 8, 2 }, /**/
	{ 17, 1 }, /**/
	{ 18, 1 }, /**/
	{ 19, 1 }, /**/
	{ 20, 1 }, /**/
	{ 21, 1 }, /**/
	{ 1, 6 }, /**/
	{ 1, 7 }, /**/
	{ 2, 5 }, /**/
	{ 3, 4 }, /**/
	{ 5, 3 }, /**/
	{ 9, 2 }, /**/
	{ 10, 2 }, /**/
	{ 22, 1 }, /**/
	{ 23, 1 }, /**/
	{ 24, 1 }, /**/
	{ 25, 1 }, /**/
	{ 26, 1 }, /**/
	{ 0, 16 }, /**/
	{ 0, 17 }, /**/
	{ 0, 18 }, /**/
	{ 0, 19 }, /**/
	{ 0, 20 }, /**/
	{ 0, 21 }, /**/
	{ 0, 22 }, /**/
	{ 0, 23 }, /**/
	{ 0, 24 }, /**/
	{ 0, 25 }, /**/
	{ 0, 26 }, /**/
	{ 0, 27 }, /**/
	{ 0, 28 }, /**/
	{ 0, 29 }, /**/
	{ 0, 30 }, /**/
	{ 0, 31 }, /**/
	{ 0, 32 }, /**/
	{ 0, 33 }, /**/
	{ 0, 34 }, /**/
	{ 0, 35 }, /**/
	{ 0, 36 }, /**/
	{ 0, 37 }, /**/
	{ 0, 38 }, /**/
	{ 0, 39 }, /**/
	{ 0, 40 }, /**/
	{ 1, 8 }, /**/
	{ 1, 9 }, /**/
	{ 1, 10 }, /**/
	{ 1, 11 }, /**/
	{ 1, 12 }, /**/
	{ 1, 13 }, /**/
	{ 1, 14 }, /**/
	{ 1, 15 }, /**/
	{ 1, 16 }, /**/
	{ 1, 17 }, /**/
	{ 1, 18 }, /**/
	{ 6, 3 }, /**/
	{ 11, 2 }, /**/
	{ 12, 2 }, /**/
	{ 13, 2 }, /**/
	{ 14, 2 }, /**/
	{ 15, 2 }, /**/
	{ 16, 2 }, /**/
	{ 27, 1 }, /**/
	{ 28, 1 }, /**/
	{ 29, 1 }, /**/
	{ 30, 1 }, /**/
	{ 31, 1 } /**/
};


int8_t rgi8_y262_quantiser_scale_table[ 2 ][ 32 ] = {
	{
		-1,
		2,
		4,
		6,
		8,
		10,
		12,
		14,
		16,
		18,
		20,
		22,
		24,
		26,
		28,
		30,
		32,
		34,
		36,
		38,
		40,
		42,
		44,
		46,
		48,
		50,
		52,
		54,
		56,
		58,
		60,
		62
	},
	{
		-1,
		1,
		2,
		3,
		4,
		5,
		6,
		7,
		8,
		10,
		12,
		14,
		16,
		18,
		20,
		22,
		24,
		28,
		32,
		36,
		40,
		44,
		48,
		52,
		56,
		64,
		72,
		80,
		88,
		96,
		104,
		112
	}
};


y262_vlc_t rgs_y262_motion_code_table[] = {
	{ 1, 1 }, /* 0 */
	{ 3, 3 }, /* –1 */
	{ 2, 3 }, /* 1 */
	{ 3, 4 }, /* –2 */
	{ 2, 4 }, /* 2 */
	{ 3, 5 }, /* –3 */
	{ 2, 5 }, /* 3 */
	{ 7, 7 }, /* –4 */
	{ 6, 7 }, /* 4 */
	{ 7, 8 }, /* –7 */
	{ 9, 8 }, /* –6 */
	{ 11, 8 }, /* –5 */
	{ 10, 8 }, /* 5 */
	{ 8, 8 }, /* 6 */
	{ 6, 8 }, /* 7 */
	{ 19, 10 }, /* –10 */
	{ 21, 10 }, /* –9 */
	{ 23, 10 }, /* –8 */
	{ 22, 10 }, /* 8 */
	{ 20, 10 }, /* 9 */
	{ 18, 10 }, /* 10 */
	{ 25, 11 }, /* –16 */
	{ 27, 11 }, /* –15 */
	{ 29, 11 }, /* –14 */
	{ 31, 11 }, /* –13 */
	{ 33, 11 }, /* –12 */
	{ 35, 11 }, /* –11 */
	{ 34, 11 }, /* 11 */
	{ 32, 11 }, /* 12 */
	{ 30, 11 }, /* 13 */
	{ 28, 11 }, /* 14 */
	{ 26, 11 }, /* 15 */
	{ 24, 11 }, /* 16 */
	{ VLC_SENTINEL, VLC_SENTINEL }
};

int32_t rgi_y262_motion_bits[ 17 ] = { 1, 3, 4, 5, 7, 8, 8, 8, 10, 10, 10, 11, 11, 11, 11, 11, 11 };

int32_t rgi_y262_motion_delta_lookup_table[] = {
	0,
	-1,
	1,
	-2,
	2,
	-3,
	3,
	-4,
	4,
	-7,
	-6,
	-5,
	5,
	6,
	7,
	-10,
	-9,
	-8,
	8,
	9,
	10,
	-16,
	-15,
	-14,
	-13,
	-12,
	-11,
	11,
	12,
	13,
	14,
	15,
	16
};


y262_vlc_t rgs_y262_coded_block_pattern_table[] = {
	{ 7, 3 }, /* 60 */ 
	{ 13, 4 }, /* 4 */ 
	{ 12, 4 }, /* 8 */ 
	{ 11, 4 }, /* 16 */ 
	{ 10, 4 }, /* 32 */ 
	{ 19, 5 }, /* 12 */ 
	{ 18, 5 }, /* 48 */ 
	{ 17, 5 }, /* 20 */ 
	{ 16, 5 }, /* 40 */ 
	{ 15, 5 }, /* 28 */ 
	{ 14, 5 }, /* 44 */ 
	{ 13, 5 }, /* 52 */ 
	{ 12, 5 }, /* 56 */ 
	{ 11, 5 }, /* 1 */ 
	{ 10, 5 }, /* 61 */ 
	{ 9, 5 }, /* 2 */ 
	{ 8, 5 }, /* 62 */ 
	{ 15, 6 }, /* 24 */ 
	{ 14, 6 }, /* 36 */ 
	{ 13, 6 }, /* 3 */ 
	{ 12, 6 }, /* 63 */ 
	{ 23, 7 }, /* 5 */ 
	{ 22, 7 }, /* 9 */ 
	{ 21, 7 }, /* 17 */ 
	{ 20, 7 }, /* 33 */ 
	{ 19, 7 }, /* 6 */ 
	{ 18, 7 }, /* 10 */ 
	{ 17, 7 }, /* 18 */ 
	{ 16, 7 }, /* 34 */ 
	{ 31, 8 }, /* 7 */ 
	{ 30, 8 }, /* 11 */ 
	{ 29, 8 }, /* 19 */ 
	{ 28, 8 }, /* 35 */ 
	{ 27, 8 }, /* 13 */ 
	{ 26, 8 }, /* 49 */ 
	{ 25, 8 }, /* 21 */ 
	{ 24, 8 }, /* 41 */ 
	{ 23, 8 }, /* 14 */ 
	{ 22, 8 }, /* 50 */ 
	{ 21, 8 }, /* 22 */ 
	{ 20, 8 }, /* 42 */ 
	{ 19, 8 }, /* 15 */ 
	{ 18, 8 }, /* 51 */ 
	{ 17, 8 }, /* 23 */ 
	{ 16, 8 }, /* 43 */ 
	{ 15, 8 }, /* 25 */ 
	{ 14, 8 }, /* 37 */ 
	{ 13, 8 }, /* 26 */ 
	{ 12, 8 }, /* 38 */ 
	{ 11, 8 }, /* 29 */ 
	{ 10, 8 }, /* 45 */ 
	{ 9, 8 }, /* 53 */ 
	{ 8, 8 }, /* 57 */ 
	{ 7, 8 }, /* 30 */ 
	{ 6, 8 }, /* 46 */ 
	{ 5, 8 }, /* 54 */ 
	{ 4, 8 }, /* 58 */ 
	{ 7, 9 }, /* 31 */ 
	{ 6, 9 }, /* 47 */ 
	{ 5, 9 }, /* 55 */ 
	{ 4, 9 }, /* 59 */ 
	{ 3, 9 }, /* 27 */ 
	{ 2, 9 }, /* 39 */ 
	{ 1, 9 }, /*  0 (Note */

	{ VLC_SENTINEL, VLC_SENTINEL }
};

int32_t rgi_y262_coded_block_pattern_lookup_table[] = {
	60,
	4,
	8,
	16,
	32,
	12,
	48,
	20,
	40,
	28,
	44,
	52,
	56,
	1,
	61,
	2,
	62,
	24,
	36,
	3,
	63,
	5,
	9,
	17,
	33,
	6,
	10,
	18,
	34,
	7,
	11,
	19,
	35,
	13,
	49,
	21,
	41,
	14,
	50,
	22,
	42,
	15,
	51,
	23,
	43,
	25,
	37,
	26,
	38,
	29,
	45,
	53,
	57,
	30,
	46,
	54,
	58,
	31,
	47,
	55,
	59,
	27,
	39,
	0 
};

